@model WCN_MVC.Models.PeriodModel

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";

    if (Session["UserID"] == null)
    {
        Response.Redirect("~/Login/Index");
    }
}

<script src="~/Scripts/bootstrap.min.js"></script>
<script src="~/Scripts/bootstrap.js"></script>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
<script src="~/Scripts/jquery-1.9.1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script type="text/javascript">

    function ChangeYear() {
        debugger;
        var selectedMonth = $("#selMonth option:selected").text();
        var selectedYear = $("#selYear option:selected").text();
        selectedMonth = selectedMonth.substring(0, 3);
        if (selectedMonth != 'Select Month' && selectedYear != 'Select Year') {
            $("#periodLocal").val(selectedMonth + '-' + selectedYear);
        }
    }
</script>

<div class="container" style="text-align:center">
    <h4 style="color:red">Period Master (Create)</h4>
</div>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="form-group">
            @Html.LabelFor(model => model.Month, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.Month, new List<SelectListItem>
                            {new SelectListItem { Text = "Select Month", Value = "0", Selected=true},
                            new SelectListItem { Text = "January", Value = "1"},
                            new SelectListItem { Text = "February", Value = "2"},
                            new SelectListItem { Text = "March", Value = "3"},
                            new SelectListItem { Text = "April", Value = "4"},
                            new SelectListItem { Text = "May", Value = "5"},
                            new SelectListItem { Text = "June", Value = "6"},
                            new SelectListItem { Text = "July", Value = "7"},
                            new SelectListItem { Text = "August", Value = "8"},
                            new SelectListItem { Text = "September", Value = "9"},
                            new SelectListItem { Text = "October", Value = "10"},
                            new SelectListItem { Text = "November", Value = "11"},
                            new SelectListItem { Text = "December", Value = "12"}},
                            new { id = "selMonth", style = "width:250px;height:32px", @onChange = "return ChangeYear()" })
                @Html.ValidationMessageFor(model => model.Month, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Year, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.Year, Model.YearLists, "Select Year", new { id = "selYear", style = "width:250px;height:32px", @onChange = "return ChangeYear()", htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Year, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Period, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Period, new { htmlAttributes = new { id = "periodLocal", @class = "form-control", placeholder = "Period", @readonly = "readonly" } })
                @Html.ValidationMessageFor(model => model.Period, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-10">
                <label class="danger" style="color:red">@ViewBag.Message</label>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-info" style="width:150px;height:50px" />
                @Html.ActionLink("Back", "Index", "Period", routeValues: null, htmlAttributes: new { @class = "btn btn-info", @role = "button", style = "width:150px;height:50px" })
            </div>
        </div>
    </div>
}
